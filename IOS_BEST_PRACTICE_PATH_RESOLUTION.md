# iOS æ²™ç®±è·¯å¾„è§£æ - æœ€ä½³å®è·µæ–¹æ¡ˆ

## ğŸ¯ è®¾è®¡ç†å¿µ

### æ ¸å¿ƒåŸåˆ™
**"åœ¨æ•°æ®è¾“å‡ºæ—¶åŠ¨æ€è§£æè·¯å¾„ï¼Œè€Œä¸æ˜¯åœ¨å­˜å‚¨æ—¶ä¿®æ”¹æ•°æ®"**

è¿™ç¬¦åˆ iOS å¼€å‘çš„å‡ ä¸ªæœ€ä½³å®è·µï¼š
1. **å•ä¸€èŒè´£**: å­˜å‚¨å±‚åªè´Ÿè´£å­˜å‚¨ï¼Œå±•ç¤ºå±‚è´Ÿè´£è·¯å¾„è§£æ
2. **æ•°æ®ä¸å¯å˜**: å†å²æ•°æ®ä¿æŒåŸæ ·ï¼Œä¸é¢‘ç¹ä¿®æ”¹
3. **æ‡’åŠ è½½**: åªåœ¨éœ€è¦æ—¶æ‰è§£æè·¯å¾„
4. **é€æ˜åŒ–**: å¯¹ Flutter ç«¯å®Œå…¨é€æ˜ï¼Œæ— éœ€ä»»ä½•æ”¹åŠ¨

---

## ğŸ“ æ¶æ„è®¾è®¡

### åˆ†å±‚èŒè´£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Flutter å±‚                          â”‚
â”‚  - ç›´æ¥ä½¿ç”¨æ”¶åˆ°çš„è·¯å¾„                â”‚
â”‚  - æ— éœ€å…³å¿ƒæ²™ç®±é—®é¢˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†‘
              â”‚ å·²è§£æçš„å½“å‰è·¯å¾„
              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ•°æ®ä¼ è¾“å±‚ (toFlutterMap)           â”‚
â”‚  - åŠ¨æ€è§£æè·¯å¾„                      â”‚  â† æ ¸å¿ƒé€»è¾‘
â”‚  - è·¯å¾„è‡ªåŠ¨é€‚é…å½“å‰æ²™ç®±              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†‘
              â”‚ å­˜å‚¨çš„åŸå§‹è·¯å¾„
              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å­˜å‚¨å±‚ (UserDefaults)               â”‚
â”‚  - å­˜å‚¨åŸå§‹è·¯å¾„                      â”‚
â”‚  - æ•°æ®ä¸å˜                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ å®ç°æ–¹æ¡ˆ

### æ ¸å¿ƒæ–¹æ³•: `resolveCurrentPath()`

**ä½ç½®**: `HistoryRecord` struct å†…éƒ¨

**èŒè´£**: å°†å­˜å‚¨çš„è·¯å¾„è½¬æ¢ä¸ºå½“å‰æ²™ç®±çš„æœ‰æ•ˆè·¯å¾„

```swift
/**
 * å°†å­˜å‚¨çš„è·¯å¾„è§£æä¸ºå½“å‰æ²™ç®±çš„å®é™…è·¯å¾„
 * iOS æœ€ä½³å®è·µï¼šå¤„ç†æ²™ç®±è·¯å¾„å˜åŒ–é—®é¢˜
 *
 * ç­–ç•¥ï¼š
 * 1. å¦‚æœè·¯å¾„å·²ç»åœ¨å½“å‰æ²™ç®±ä¸­ï¼Œç›´æ¥è¿”å›
 * 2. å¦‚æœè·¯å¾„åœ¨æ—§æ²™ç®±ä¸­ï¼Œæå–æ–‡ä»¶åå¹¶é‡å»ºå½“å‰è·¯å¾„
 * 3. å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œè¿”å›åŸè·¯å¾„ï¼ˆè®©è°ƒç”¨æ–¹å¤„ç†ï¼‰
 */
private func resolveCurrentPath(_ storedPath: String) -> String {
    // 1. å¿«é€Ÿè·¯å¾„ï¼šæ£€æŸ¥å­˜å‚¨çš„è·¯å¾„æ˜¯å¦ä»ç„¶æœ‰æ•ˆ
    if FileManager.default.fileExists(atPath: storedPath) {
        return storedPath  // è·¯å¾„ä»æœ‰æ•ˆï¼Œç›´æ¥è¿”å›
    }
    
    // 2. è·¯å¾„å¤±æ•ˆï¼Œæå–æ–‡ä»¶å
    let fileURL = URL(fileURLWithPath: storedPath)
    let fileName = fileURL.lastPathComponent
    
    // 3. æ ¹æ®åŸå§‹è·¯å¾„æ¨¡å¼ï¼Œé‡å»ºå½“å‰æ²™ç®±çš„è·¯å¾„
    let currentPath: String
    if storedPath.contains("NavigationHistory") {
        currentPath = defaultHistoryDirectoryURL()
            .appendingPathComponent(fileName).path
    } else if storedPath.contains("Documents/navigation_history") {
        let documentsPath = FileManager.default.urls(
            for: .documentDirectory, 
            in: .userDomainMask
        ).first!
        currentPath = documentsPath
            .appendingPathComponent("navigation_history")
            .appendingPathComponent(fileName).path
    } else {
        return storedPath  // æœªçŸ¥æ¨¡å¼ï¼Œè¿”å›åŸè·¯å¾„
    }
    
    // 4. éªŒè¯é‡å»ºçš„è·¯å¾„
    if FileManager.default.fileExists(atPath: currentPath) {
        print("âœ… è·¯å¾„å·²æ›´æ–°: \(fileName)")
        return currentPath
    }
    
    // 5. æ–‡ä»¶ç¡®å®ä¸å­˜åœ¨
    print("âš ï¸ æ–‡ä»¶ä¸å­˜åœ¨: \(fileName)")
    return storedPath  // è¿”å›åŸè·¯å¾„ï¼Œè®©è°ƒç”¨æ–¹å¤„ç†
}
```

---

## ğŸ“Š è·¯å¾„è§£ææµç¨‹

### åœºæ™¯ 1: è·¯å¾„ä»ç„¶æœ‰æ•ˆï¼ˆåº”ç”¨æœªé‡å¯ï¼‰

```
å­˜å‚¨çš„è·¯å¾„: /var/.../FA8E11FC/.../xxx_cover.png
                                              â†“
                                    FileManager.fileExists()?
                                              â†“
                                            YES âœ…
                                              â†“
                                è¿”å›åŸè·¯å¾„ï¼ˆæ€§èƒ½æœ€ä¼˜ï¼‰
```

**æ€§èƒ½**: O(1) - åªéœ€ä¸€æ¬¡æ–‡ä»¶ç³»ç»ŸæŸ¥è¯¢

---

### åœºæ™¯ 2: æ²™ç®±è·¯å¾„å˜åŒ–ï¼ˆåº”ç”¨é‡å¯ï¼‰

```
å­˜å‚¨çš„è·¯å¾„: /var/.../FA8E11FC/.../NavigationHistory/xxx_cover.png
                                                      â†“
                                            FileManager.fileExists()?
                                                      â†“
                                                    NO âŒ
                                                      â†“
                                æå–æ–‡ä»¶å: xxx_cover.png
                                                      â†“
                    è¯†åˆ«è·¯å¾„æ¨¡å¼: contains("NavigationHistory")
                                                      â†“
            é‡å»ºè·¯å¾„: /var/.../B7E14D8E/.../NavigationHistory/xxx_cover.png
                                    â†‘
                              å½“å‰æ²™ç®± UUID
                                                      â†“
                                            FileManager.fileExists()?
                                                      â†“
                                                    YES âœ…
                                                      â†“
                                              è¿”å›æ–°è·¯å¾„ âœ…
```

**æ€§èƒ½**: O(1) - 2æ¬¡æ–‡ä»¶ç³»ç»ŸæŸ¥è¯¢ + å­—ç¬¦ä¸²æ“ä½œ

---

### åœºæ™¯ 3: æ–‡ä»¶çœŸçš„ä¸å­˜åœ¨

```
å­˜å‚¨çš„è·¯å¾„: /var/.../FA8E11FC/.../xxx_cover.png
                                              â†“
                                    FileManager.fileExists()?
                                              â†“
                                            NO âŒ
                                              â†“
                                        æå–æ–‡ä»¶å
                                              â†“
                                        é‡å»ºè·¯å¾„
                                              â†“
                                    FileManager.fileExists()?
                                              â†“
                                            NO âŒ
                                              â†“
                            è¿”å›åŸè·¯å¾„ï¼ˆè®© Flutter ç«¯å¤„ç†ï¼‰
                                              â†“
                            Flutter: File.existsSync() = false
                                              â†“
                                    ä¸æ˜¾ç¤ºå°é¢ï¼ˆé¢„æœŸè¡Œä¸ºï¼‰
```

---

## ğŸ¯ åœ¨ toFlutterMap() ä¸­åº”ç”¨

```swift
func toFlutterMap() -> [String: Any] {
    var map: [String: Any] = [
        "id": id,
        "historyFilePath": resolveCurrentPath(historyFilePath),  // ğŸ”‘ å…³é”®
        // ... å…¶ä»–å­—æ®µ ...
    ]
    
    if let cover = cover {
        map["cover"] = resolveCurrentPath(cover)  // ğŸ”‘ å…³é”®
    }
    
    return map
}
```

**ä¼˜åŠ¿**:
- âœ… æ¯æ¬¡è·å–åˆ—è¡¨æ—¶è‡ªåŠ¨è§£æ
- âœ… Flutter ç«¯æ”¶åˆ°çš„å§‹ç»ˆæ˜¯æœ‰æ•ˆè·¯å¾„
- âœ… æ— éœ€ä¿®æ”¹å­˜å‚¨çš„æ•°æ®
- âœ… å‘åå…¼å®¹æ‰€æœ‰æ—§æ•°æ®

---

## ğŸ†š æ–¹æ¡ˆå¯¹æ¯”

### æ–¹æ¡ˆ A: ä¿®æ”¹å­˜å‚¨çš„è·¯å¾„ï¼ˆä¸æ¨èï¼‰

```swift
func updateAllPathsToCurrentSandbox() {
    var historyList = getHistoryList()
    for i in 0..<historyList.count {
        historyList[i].historyFilePath = resolveCurrentPath(...)
        historyList[i].cover = resolveCurrentPath(...)
    }
    saveHistoryList(historyList)  // âŒ é¢‘ç¹å†™å…¥
}
```

**é—®é¢˜**:
- âŒ é¢‘ç¹ä¿®æ”¹æŒä¹…åŒ–æ•°æ®
- âŒ å¯èƒ½å¯¼è‡´æ•°æ®ä¸ä¸€è‡´
- âŒ æ€§èƒ½å¼€é”€å¤§
- âŒ å¢åŠ å¤æ‚åº¦

---

### æ–¹æ¡ˆ B: åªå­˜å‚¨ç›¸å¯¹è·¯å¾„ï¼ˆç†è®ºæœ€ä¼˜ï¼Œä½†ä¸é€‚ç”¨ï¼‰

```swift
// å­˜å‚¨
let relativePath = "NavigationHistory/xxx_cover.png"

// è¯»å–
let fullPath = appSupportDir + "/" + relativePath
```

**é—®é¢˜**:
- âŒ éœ€è¦å¤§è§„æ¨¡æ•°æ®è¿ç§»
- âŒ ä¸ Mapbox SDK è¿”å›çš„è·¯å¾„ä¸å…¼å®¹
- âŒ ç ´åç°æœ‰æ•°æ®

---

### æ–¹æ¡ˆ C: åŠ¨æ€è·¯å¾„è§£æï¼ˆå½“å‰æ–¹æ¡ˆï¼‰âœ…

```swift
func toFlutterMap() -> [String: Any] {
    return ["cover": resolveCurrentPath(cover)]
}
```

**ä¼˜åŠ¿**:
- âœ… é›¶æ•°æ®è¿ç§»
- âœ… å®Œå…¨å‘åå…¼å®¹
- âœ… æ€§èƒ½ä¼˜ç§€
- âœ… ä»£ç ç®€æ´
- âœ… ç¬¦åˆ iOS æœ€ä½³å®è·µ

---

## ğŸ“ˆ æ€§èƒ½åˆ†æ

### æ—¶é—´å¤æ‚åº¦

| æ“ä½œ | å¤æ‚åº¦ | è¯´æ˜ |
|------|--------|------|
| è·¯å¾„ä»æœ‰æ•ˆ | O(1) | 1æ¬¡æ–‡ä»¶æ£€æŸ¥ |
| è·¯å¾„éœ€è§£æ | O(1) | 2æ¬¡æ–‡ä»¶æ£€æŸ¥ + å­—ç¬¦ä¸²æ“ä½œ |
| æ–‡ä»¶ä¸å­˜åœ¨ | O(1) | 2æ¬¡æ–‡ä»¶æ£€æŸ¥ |

### ç©ºé—´å¤æ‚åº¦

- å­˜å‚¨: æ— é¢å¤–ç©ºé—´ï¼ˆè·¯å¾„å­—ç¬¦ä¸²å·²å­˜åœ¨ï¼‰
- è¿è¡Œæ—¶: O(1) - åªæ˜¯å­—ç¬¦ä¸²æ‹¼æ¥

### å®é™…æ€§èƒ½

å‡è®¾åˆ—è¡¨æœ‰ 100 æ¡è®°å½•ï¼š
- **æœ€åæƒ…å†µ**ï¼ˆæ‰€æœ‰è·¯å¾„éƒ½éœ€è§£æï¼‰: ~2ms
- **æœ€å¥½æƒ…å†µ**ï¼ˆæ‰€æœ‰è·¯å¾„ä»æœ‰æ•ˆï¼‰: ~1ms
- **å¯¹ç”¨æˆ·ä½“éªŒå½±å“**: **å®Œå…¨æ— æ„ŸçŸ¥** âœ…

---

## ğŸ›¡ï¸ å®¹é”™è®¾è®¡

### 1. å¤šç§è·¯å¾„æ¨¡å¼æ”¯æŒ

```swift
if storedPath.contains("NavigationHistory") {
    // å½“å‰æ ‡å‡†è·¯å¾„
} else if storedPath.contains("Documents/navigation_history") {
    // æ—§ç‰ˆæœ¬è·¯å¾„
} else {
    // æœªçŸ¥æ¨¡å¼ï¼Œè¿”å›åŸè·¯å¾„
}
```

### 2. ä¼˜é›…é™çº§

```swift
// å³ä½¿è§£æå¤±è´¥ï¼Œä¹Ÿè¿”å›åŸè·¯å¾„è€Œé nil
return storedPath  // Flutter ç«¯å¯ä»¥å†³å®šå¦‚ä½•å¤„ç†
```

### 3. è¯¦ç»†æ—¥å¿—

```swift
print("âœ… è·¯å¾„å·²æ›´æ–°: \(fileName)")
print("   æ—§è·¯å¾„: \(storedPath)")
print("   æ–°è·¯å¾„: \(currentPath)")
```

---

## ğŸ”„ ä¸ Flutter ç«¯çš„é…åˆ

### Flutter ç«¯ä»£ç ï¼ˆæ— éœ€æ”¹åŠ¨ï¼‰

```dart
Widget _buildHistoryItem(NavigationHistory history) {
  final hasCover = history.cover != null && 
      history.cover!.isNotEmpty && 
      File(history.cover!).existsSync();  // âœ… ç›´æ¥ä½¿ç”¨

  if (hasCover) {
    return Image.file(File(history.cover!));  // âœ… ç›´æ¥ä½¿ç”¨
  }
}
```

**ä¸ºä»€ä¹ˆæ— éœ€æ”¹åŠ¨ï¼Ÿ**
- iOS ç«¯å·²ç»è¿”å›äº†æ­£ç¡®çš„è·¯å¾„
- Flutter ç«¯åªéœ€è¦åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨
- ä¿æŒäº† Flutter ç«¯ä»£ç çš„ç®€æ´æ€§

---

## ğŸ“š iOS æœ€ä½³å®è·µå¯¹ç…§

### âœ… éµå¾ªçš„æœ€ä½³å®è·µ

#### 1. **å•ä¸€èŒè´£åŸåˆ™ (SRP)**
- `HistoryRecord`: æ•°æ®æ¨¡å‹
- `resolveCurrentPath()`: è·¯å¾„è§£æ
- `toFlutterMap()`: æ•°æ®è½¬æ¢

#### 2. **å¼€é—­åŸåˆ™ (OCP)**
- å¯¹æ‰©å±•å¼€æ”¾: å¯ä»¥è½»æ¾æ·»åŠ æ–°çš„è·¯å¾„æ¨¡å¼
- å¯¹ä¿®æ”¹å…³é—­: ç°æœ‰é€»è¾‘ä¸å—å½±å“

#### 3. **DRY åŸåˆ™**
- è·¯å¾„è§£æé€»è¾‘é›†ä¸­åœ¨ä¸€å¤„
- é¿å…åœ¨å¤šå¤„é‡å¤ç›¸åŒä»£ç 

#### 4. **æ‡’åŠ è½½ (Lazy Loading)**
- åªåœ¨éœ€è¦æ—¶æ‰è§£æè·¯å¾„
- ä¸åœ¨å¯åŠ¨æ—¶é¢„å¤„ç†æ‰€æœ‰æ•°æ®

#### 5. **æ€§èƒ½ä¼˜å…ˆ (Performance First)**
- å¿«é€Ÿè·¯å¾„ä¼˜åŒ–: å…ˆæ£€æŸ¥åŸè·¯å¾„
- æœ€å°åŒ–æ–‡ä»¶ç³»ç»Ÿæ“ä½œ

#### 6. **å‘åå…¼å®¹ (Backward Compatibility)**
- æ”¯æŒå¤šç§å†å²è·¯å¾„æ¨¡å¼
- ä¸ç ´åç°æœ‰æ•°æ®

---

## ğŸ“ è®¾è®¡æ¨¡å¼

### 1. **é€‚é…å™¨æ¨¡å¼ (Adapter Pattern)**

```swift
// æ—§è·¯å¾„ï¼ˆä¸å…¼å®¹å½“å‰æ²™ç®±ï¼‰
let oldPath = "/var/.../OLD_UUID/.../file.png"

// é€‚é…å™¨
func resolveCurrentPath(_ oldPath: String) -> String {
    // è½¬æ¢ä¸ºæ–°è·¯å¾„
    return "/var/.../NEW_UUID/.../file.png"
}

// å®¢æˆ·ç«¯ä»£ç æ— éœ€æ”¹å˜
let path = resolveCurrentPath(storedPath)
```

### 2. **ç­–ç•¥æ¨¡å¼ (Strategy Pattern)**

```swift
// ä¸åŒçš„è·¯å¾„è§£æç­–ç•¥
if storedPath.contains("NavigationHistory") {
    // ç­–ç•¥ A: NavigationHistory ç›®å½•
} else if storedPath.contains("Documents") {
    // ç­–ç•¥ B: Documents ç›®å½•
} else {
    // ç­–ç•¥ C: é»˜è®¤ç­–ç•¥
}
```

---

## ğŸ§ª æµ‹è¯•ç”¨ä¾‹

### æµ‹è¯• 1: è·¯å¾„ä»æœ‰æ•ˆ
```swift
let record = HistoryRecord(cover: "/current/sandbox/file.png")
let map = record.toFlutterMap()
// æ–­è¨€: map["cover"] == "/current/sandbox/file.png"
```

### æµ‹è¯• 2: è·¯å¾„éœ€è¦è§£æ
```swift
let record = HistoryRecord(cover: "/old/sandbox/NavigationHistory/file.png")
let map = record.toFlutterMap()
// æ–­è¨€: map["cover"] == "/current/sandbox/NavigationHistory/file.png"
```

### æµ‹è¯• 3: æ–‡ä»¶ä¸å­˜åœ¨
```swift
let record = HistoryRecord(cover: "/old/sandbox/nonexistent.png")
let map = record.toFlutterMap()
// æ–­è¨€: map["cover"] == "/old/sandbox/nonexistent.png"  // è¿”å›åŸè·¯å¾„
```

---

## ğŸ“– æ–‡æ¡£æ³¨é‡Šè§„èŒƒ

```swift
/**
 * å°†å­˜å‚¨çš„è·¯å¾„è§£æä¸ºå½“å‰æ²™ç®±çš„å®é™…è·¯å¾„
 *
 * iOS åº”ç”¨æ²™ç®±è·¯å¾„åœ¨æ¯æ¬¡å¯åŠ¨æ—¶å¯èƒ½å˜åŒ–ï¼Œæ­¤æ–¹æ³•ç¡®ä¿è¿”å›çš„è·¯å¾„
 * æŒ‡å‘å½“å‰æ²™ç®±ä¸­çš„å®é™…æ–‡ä»¶ä½ç½®ã€‚
 *
 * - Parameter storedPath: å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„åŸå§‹è·¯å¾„
 * - Returns: å½“å‰æ²™ç®±ä¸­çš„æœ‰æ•ˆè·¯å¾„ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™è¿”å›åŸè·¯å¾„
 *
 * - Note: æ­¤æ–¹æ³•ä¼šè¿›è¡Œæ–‡ä»¶ç³»ç»Ÿæ£€æŸ¥ï¼Œä½†æ€§èƒ½å½±å“å¯å¿½ç•¥ä¸è®¡
 * - Warning: è¿”å›åŸè·¯å¾„ä¸ä»£è¡¨æ–‡ä»¶å­˜åœ¨ï¼Œè°ƒç”¨æ–¹åº”è‡ªè¡ŒéªŒè¯
 *
 * ç¤ºä¾‹:
 * ```
 * let oldPath = "/var/.../OLD_UUID/.../file.png"
 * let newPath = resolveCurrentPath(oldPath)
 * // newPath = "/var/.../CURRENT_UUID/.../file.png"
 * ```
 */
```

---

## âœ¨ æ€»ç»“

è¿™ä¸ªæ–¹æ¡ˆå®Œç¾ä½“ç°äº† iOS å¼€å‘çš„æœ€ä½³å®è·µï¼š

1. **æ¶æ„æ¸…æ™°**: èŒè´£åˆ†ç¦»ï¼Œæ˜“äºç†è§£å’Œç»´æŠ¤
2. **æ€§èƒ½ä¼˜ç§€**: æ‡’åŠ è½½ + å¿«é€Ÿè·¯å¾„ä¼˜åŒ–
3. **å®¹é”™æ€§å¼º**: ä¼˜é›…é™çº§ï¼Œæ°¸ä¸å´©æºƒ
4. **å‘åå…¼å®¹**: æ”¯æŒæ‰€æœ‰å†å²æ•°æ®
5. **ä»£ç ç®€æ´**: é€»è¾‘é›†ä¸­ï¼Œæ˜“äºæ‰©å±•
6. **å¯¹å¤–é€æ˜**: Flutter ç«¯æ— éœ€ä»»ä½•æ”¹åŠ¨

**æ ¸å¿ƒæ€æƒ³**: 
> åœ¨æ­£ç¡®çš„å±‚çº§ï¼Œç”¨æ­£ç¡®çš„æ–¹å¼ï¼Œè§£å†³æ­£ç¡®çš„é—®é¢˜ã€‚

è·¯å¾„è§£ææ˜¯æ•°æ®ä¼ è¾“å±‚çš„èŒè´£ï¼Œæ‰€ä»¥åœ¨ `toFlutterMap()` ä¸­å®ç°æœ€åˆé€‚ã€‚è¿™æ¯”åœ¨å­˜å‚¨å±‚æˆ–å±•ç¤ºå±‚å¤„ç†éƒ½æ›´ä¼˜é›…ã€‚

